---
id: react-getting-started
title: Reactå…¥é—¨â€”â€”æ¦‚è¿°å’Œæ¼”ç»ƒ
sidebar_label: Reactå…¥é—¨
---

## å‡†å¤‡

åœ¨å¼€å§‹å­¦ä¹  React ä¹‹å‰ï¼Œéœ€è¦ä½ æŒæ¡ä¸€äº›åŸºæœ¬çš„ Web å¼€å‘çŸ¥è¯†ï¼ŒåŒ…æ‹¬ï¼š

- ç†Ÿæ‚‰ HTML & CSS
- çŸ¥é“å¹¶æœ‰ JavaScript ç¼–ç¨‹ç»éªŒ
- æ¸…æ¥šä»€ä¹ˆæ˜¯ DOM
- ç†Ÿæ‚‰[ES6 è¯­æ³•](http://es6.ruanyifeng.com/)

åœ¨ç”µè„‘ä¸Šéœ€è¦å®‰è£…ä»¥ä¸‹ç¯å¢ƒï¼š

- [node.js å’Œ npm](https://nodejs.org/en/)
- [ä»£ç ç¼–è¾‘å™¨ï¼švscode](https://code.visualstudio.com/)

## ç›®æ ‡

- å­¦ä¹  React åŸºæœ¬æ¦‚å¿µå’Œç›¸å…³çš„ä¸œè¥¿ï¼Œå¦‚ Babelã€Webpackã€JSXã€ç»„ä»¶ã€å±æ€§ã€çŠ¶æ€å’Œé’©å­(react hooks)ã€‚
- æ„å»ºä¸€ä¸ªæ¼”ç¤ºä¸Šé¢æ¦‚å¿µçš„ç®€å• React åº”ç”¨ã€‚

[æŸ¥çœ‹æ”¾åœ¨ Github ä¸Šçš„æºç ](https://github.com/sinoui/react-tutorial)

[æŸ¥çœ‹æœ€ç»ˆæ•ˆæœ](https://sinoui.github.io/react-tutorial/)

## React æ˜¯ä»€ä¹ˆï¼Ÿ

- React æ˜¯æœ€å—æ¬¢è¿çš„ JavaScript åº“ä¹‹ä¸€ï¼Œ[åœ¨ Github ä¸Šæœ‰ è¶…è¿‡ 10 ä¸‡æ˜Ÿæ˜Ÿ](https://github.com/facebook/react)ã€‚
- å®ƒä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼ˆä¸åƒ Angular é‚£æ ·æä¾›äº†å¾ˆå¤šæ¡†æ¶åŠŸèƒ½ï¼‰ã€‚
- React æ˜¯ç”± Facebook å¼€æºçš„é¡¹ç›®ã€‚
- React ç”¨æ¥åœ¨å‰ç«¯æ„å»º UIï¼ˆuser interfacesï¼Œç”¨æˆ·ç•Œé¢ï¼‰ã€‚
- React æ˜¯ MVCï¼ˆModel View Controllerï¼‰ åº”ç”¨ç¨‹åºä¸­çš„**è§†å›¾å±‚**ã€‚

React æœ€é‡è¦çš„ä¸€ä¸ªç‰¹æ€§æ˜¯ä½ å¯ä»¥åˆ›å»ºç»„ä»¶ï¼ˆç±»ä¼¼äºè‡ªå®šä¹‰ã€å¯é‡ç”¨çš„ HTML å…ƒç´ ï¼‰ï¼Œä»¥å¿«é€Ÿæœ‰æ•ˆåœ°æ„å»ºç”¨æˆ·ç•Œé¢ã€‚React è¿˜ä½¿ç”¨**çŠ¶æ€**å’Œ**å±æ€§**ç®€åŒ–äº†æ•°æ®çš„å­˜å‚¨å’Œå¤„ç†ã€‚

## åˆ›å»ºå¹¶å®‰è£… React é¡¹ç›®

æœ‰å¾ˆå¤šç§æ–¹å¼åˆ›å»º React é¡¹ç›®ï¼Œè¿™é‡Œå°†æä¾›ä¸€ç§ç›¸å¯¹ç®€å•çš„æ–¹å¼ã€‚

### create-react-app

Facebook æä¾›äº†[Create React App](https://github.com/facebook/create-react-app)ï¼Œå¯ä»¥å¿«é€Ÿæ­å»ºä¸€ä¸ª React é¡¹ç›®ã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªå®æ—¶çš„å¼€å‘æœåŠ¡å™¨ï¼Œç”¨ Webpack è‡ªåŠ¨ç¼–è¯‘ Reactã€JSX å’Œ ES6ï¼Œè‡ªåŠ¨å¤„ç† CSS æ–‡ä»¶ï¼Œå¹¶ä¼šç”¨ ESLint æ£€æŸ¥ä»£ç é”™è¯¯ã€‚

è¦è®¾ç½®`create-react-app`ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹ä»£ç ã€‚è¿™ä¸ªå‘½ä»¤è¡Œä¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ª React é¡¹ç›®ï¼Œæ‰€ä»¥ï¼Œè¯·åœ¨æ‚¨å¸Œæœ›é¡¹ç›®æ‰€åœ¨çš„ç›®å½•ä¸Šæ‰§è¡Œå‘½ä»¤è¡Œä»£ç ã€‚è¯·ç¡®ä¿ä½ çš„ Node.js æ˜¯ 5.2+ç‰ˆæœ¬çš„ã€‚

```shell
npx create-react-app react-tutorial
```

æ‰§è¡Œå®Œä¸Šé¢çš„å‘½ä»¤è¡Œä»£ç åï¼Œç§»åŠ¨åˆ°æ–°åˆ›å»ºçš„ç›®å½•å¹¶å¯åŠ¨é¡¹ç›®ã€‚

```shell
cd react-tutorial
npm start
```

æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤è¡Œä»£ç åï¼Œä¼šå¼¹å‡º`http://localhost:3000`é¡µé¢çš„æµè§ˆå™¨çª—å£ï¼Œé¡µé¢ä¼šå‘ˆç°ä½ çš„ React åº”ç”¨ç¨‹åºã€‚

![](assets/images/create-react-app-start.png)

ä½ å¯ä»¥åœ¨ vscode ä¸­æ‰“å¼€`react-tutorial`ï¼ˆå°†è¿™ä¸ªæ–‡ä»¶å¤¹æ‹–æ‹½åˆ° vscode çª—å£å³å¯æ‰“å¼€æ­¤é¡¹ç›®ï¼‰ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ç›®å½•ç»“æ„ï¼š

```text
react-tutorial
|__ node_modules
|__ public
|__ src
  |__ App.css
  |__ App.js
  |__ index.css
  |__ index.js
|__ .gitignore
|__ package.json
|__ README.md
```

æ‰“å¼€`public/index.html`æ–‡ä»¶ï¼Œè¿™ä¸ª HTML æ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„`div`å…ƒç´ ï¼Œå®ƒçš„`id`ä¸º`root`ï¼Œç¨åä¼šçœ‹åˆ°é¡¹ç›®çš„ä»£ç ä¼šå°† React æ¸²æŸ“åœ¨è¿™ä¸ª div ä¸­ã€‚é¡¹ç›®çš„æºç æ”¾åœ¨`src/`ç›®å½•ä¸­ã€‚

æ‰“å¼€`src/index.js`æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä¸€è¡Œä»£ç ï¼š

```jsx
ReactDOM.render(<App />, document.getElementById("root"));
```

è¿™è¡Œä»£ç çš„æ„æ€æ˜¯å°†`<App />`æ¸²æŸ“åœ¨`#root`çš„ DOM å…ƒç´ ä¸­ã€‚

å¯ä»¥ä½“éªŒä¸€ä¸‹`create-react-app`çš„è‡ªåŠ¨ç¼–è¯‘å’Œåˆ·æ–°çš„åŠŸèƒ½ï¼Œæ‰“å¼€`src/App.js`ï¼Œæ‰¾åˆ°ä¸‹é¢çš„ä»£ç ï¼š

```html
Edit <code>src/App.js</code> and save to reload.
```

æ›¿æ¢æˆä»»æ„å†…å®¹ï¼Œæ¯”å¦‚`Hello, World!`ã€‚ä¿å­˜ä¹‹åï¼Œä½ ä¼šçœ‹åˆ°`http://localhost:3000`é¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ä¸ºæ–°çš„å†…å®¹ã€‚

ç°åœ¨ï¼Œå°†`src/`ä¸­æ‰€æœ‰çš„æ–‡ä»¶éƒ½åˆ é™¤æ‰ï¼Œæˆ‘ä»¬ä»å¤´å¼€å§‹ã€‚é¦–å…ˆåˆ›å»º`index.js`å’Œ`index.css`ä¸¤ä¸ªæ–‡ä»¶ã€‚

åœ¨`index.css`æ–‡ä»¶ä¸­ç²˜è´´[Primitive CSS](primitive.css)æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ Bootstrap çš„æ ·å¼æˆ–è€…å…¶ä»– CSS æ¡†æ¶çš„æ ·å¼ï¼Œä¹Ÿå¯ä»¥çœç•¥è¿™ä¸€æ­¥ã€‚

ç°åœ¨ï¼Œåœ¨`index.js`ä¸­å¯¼å…¥ Reactã€ReactDOM å’Œ`index.css`ï¼š

```jsx
import React from "react";
import ReactDOM from "react-dom";
import "./index.css";
```

å†åˆ›å»ºä¸€ä¸ª App ç»„ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š

```jsx
function App() {
  return (
    <div className="App">
      <h1>Hello, World!</h1>
    </div>
  );
}
```

App ç»„ä»¶ä¸­æœ‰ä¸€ä¸ª`class`ä¸º`App`çš„`div`ï¼Œ`div`ä¸­åŒ…å«äº†`h1`æ ‡ç­¾ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œåœ¨ JavaScript ä»£ç ä¸­ï¼Œéœ€è¦ä½¿ç”¨`className`æ¥å®šä¹‰æ ‡ç­¾çš„`class`ã€‚

æœ€åï¼Œæˆ‘ä»¬åœ¨`#root`æ ‡ç­¾ä¸­æ¸²æŸ“å‡º`App`ï¼š

```jsx
ReactDOM.render(<App />, document.getElementById("root"));
```

è‡³æ­¤ï¼Œ`src/index.js`æ–‡ä»¶å°±å®Œæˆäº†ã€‚å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š

```jsx
import React, { Component } from "react";
import ReactDOM from "react-dom";
import "./index.css";

function App() {
  return (
    <div className="App">
      <h1>Hello, React!</h1>
    </div>
  );
}

ReactDOM.render(<App />, document.getElementById("root"));
```

ç°åœ¨ï¼Œå†çœ‹çœ‹`http://localhost:3000`é¡µé¢ï¼Œé¡µé¢ä¸Šä¼šå‘ˆç°å‡º`Hello, World!`ã€‚ğŸ‘ æˆ‘ä»¬å®Œæˆäº† React åº”ç”¨çš„å¼€å§‹éƒ¨åˆ†ã€‚

### è°ƒè¯• React

æœ‰ä¸€ä¸ª React Developer Tools æ’ä»¶ï¼Œå¯ä»¥è¾…åŠ©è°ƒè¯• React é¡µé¢ã€‚è¯·åœ¨ Chrome æµè§ˆå™¨ä¸Šä¸‹è½½å¹¶å®‰è£…[ React DevTools for Chrome](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi)ï¼ˆéœ€è¦ç¿»å¢™ï¼‰ã€‚

å®‰è£…å®Œæˆåï¼Œåœ¨`http://localhost:3000`é¡µé¢ä¸Šï¼ŒæŒ‰`F12`é”®æ‰“å¼€`devtools`ï¼Œä½ å°†ä¼šçœ‹åˆ° React æ ‡ç­¾ã€‚ç‚¹å‡»å®ƒï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨ç¼–å†™ç»„ä»¶æ—¶å¯¹å…¶è¿›è¡Œæ£€æŸ¥ã€‚ç°åœ¨çœ‹èµ·æ¥ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯éšç€åº”ç”¨è¶Šæ¥è¶Šå¤æ‚ï¼Œå®ƒçš„ä½œç”¨å°±ä¼šå‡¸æ˜¾å‡ºæ¥ã€‚

![](assets/images/create-react-app-hello-world.png)

## JSX: JavaScript + HTML

å¦‚ä½ æ‰€è§ï¼Œåœ¨ React ä»£ç ä¸­å‡ºç°äº† HTMLï¼Œä½†è¿™ä¸æ˜¯çœŸæ­£çš„ HTMLã€‚å®ƒæ˜¯`JSX`ï¼Œæ˜¯`JavaScript XML`çš„ç¼©å†™ã€‚

ä½¿ç”¨ JSXï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™çœ‹ä¼¼ HTML çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå’Œä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„ç±»ä¼¼ XML çš„æ ‡ç­¾ã€‚è¿™æ˜¯ JSX çœ‹èµ·æ¥åˆ†é…ç»™å˜é‡çš„å†…å®¹ã€‚

```jsx
const heading = <h1 className="site-heading">Hello, React</h1>;
```

React å¹¶ä¸å¼ºåˆ¶ä½¿ç”¨ JSXã€‚åœ¨åº•å±‚ï¼ŒJSX ä¼šè¢«æ›¿æ¢æˆ`createElement`ï¼Œå®ƒæ¥å—æ ‡è®°ï¼ŒåŒ…å«å±æ€§çš„å¯¹è±¡å’Œç»„ä»¶çš„å­é¡¹ï¼Œå¹¶å‘ˆç°ç›¸åŒçš„ä¿¡æ¯ã€‚ä»¥ä¸‹ä»£ç å°†å…·æœ‰ä¸ä¸Šè¿°`JSX`ç›¸åŒçš„è¾“å‡ºã€‚

```jsx
const heading = React.createElement(
  "h1",
  {
    className: "site-heading"
  },
  "Hello, React"
);
```

JSX å®é™…ä¸Šæ›´æ¥è¿‘ JavaScriptï¼Œè€Œä¸æ˜¯ HTMLï¼Œå› æ­¤åœ¨ç¼–å†™æ—¶éœ€è¦æ³¨æ„å‡ ä¸ªå…³é”®çš„åŒºåˆ«ã€‚

- ä½¿ç”¨`className`ä»£æ›¿`class`æ·»åŠ  CSS ç±»ã€‚å› ä¸ºåœ¨ JavaScript ä¸­`class`æ˜¯å…³é”®å­—ã€‚
- åœ¨ JSX ä¸­å±æ€§åç§°å’Œäº‹ä»¶åç§°é‡‡ç”¨å°é©¼å³°å¼ï¼ˆcamelCaseï¼‰ï¼Œå¦‚`onclick`åº”å†™æˆ`onClick`ã€‚
- è‡ªå…³é—­æ ‡ç­¾å¿…é¡»ä»¥æ–œçº¿ç»“å°¾ï¼Œå¦‚`<img />`ã€‚
- ä½¿ç”¨ JSX è¯­æ³•æ—¶ä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚

ä¾‹å¦‚ï¼Œä¼ ç»Ÿçš„ HTML æ˜¯è¿™æ ·å†™çš„ï¼š

```html
<button onclick="alert('æˆ‘è¢«ç‚¹å‡»äº†')">ç‚¹å‡»æˆ‘</button>
```

åœ¨ JSX ä¸­ï¼Œåº”å†™æˆä¸‹é¢çš„æ–¹å¼ï¼š

```jsx
<button onClick={() => alert("æˆ‘è¢«ç‚¹å‡»äº†")}>ç‚¹å‡»æˆ‘</button>
```

å¯ä»¥åœ¨ JSX ä¸­ä½¿ç”¨å¤§æ‹¬å·çš„æ–¹å¼åµŒå…¥ JavaScript è¡¨è¾¾å¼ï¼Œå¦‚å˜é‡ã€æ–¹æ³•å’Œå±æ€§ã€‚

```jsx
const name = "Jacking";
const heading = <h1>Hello, {name}</h1>;
```

JSX ä½¿æˆ‘ä»¬åœ¨ JavaScript ä¸­åˆ›å»ºå’Œç»´æŠ¤å…ƒç´ å˜å¾—ç®€å•ã€‚è¿™ä¹Ÿæ˜¯å¤§å®¶å–œæ¬¢ React çš„ä¸€ä¸ªåŸå› ã€‚

## ç»„ä»¶

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç»„ä»¶â€”â€”`App`ç»„ä»¶ã€‚React ä¸­å‡ ä¹æ‰€æœ‰å†…å®¹éƒ½ç”±ç»„ä»¶ç»„æˆã€‚ç»„ä»¶å¯ä»¥æ˜¯**å‡½æ•°ç»„ä»¶**æˆ–è€…æ˜¯**ç±»ç»„ä»¶**ã€‚

å¤§éƒ¨åˆ† React ç¨‹åºæœ‰å¾ˆå¤šå°ç»„ä»¶ï¼Œè€Œä¸”éƒ½ä¼šåŠ è½½åˆ°`App`ç»„ä»¶ä¸­å»ã€‚**ç»„ä»¶ä¸€èˆ¬éƒ½ä¼šæœ‰è‡ªå·±çš„æ–‡ä»¶**ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æ”¹å˜æˆ‘ä»¬çš„ç¨‹åºä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚

ä»`src/index.js`ä¸­åˆ é™¤`App`ï¼Œå¹¶æ·»åŠ ä¸Š`./App`çš„å¯¼å…¥ï¼š

`src/index.js`

```jsx
import React from "react";
import ReactDOM from "react-dom";
import "./App";
import "./index.css";

ReactDOM.render(<App />, document.getElementById("root"));
```

ç„¶ååœ¨`src/`ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„`App.js`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```jsx
import React from "react";

function App() {
  return (
    <div className="App">
      <h1>Hello, World!</h1>
    </div>
  );
}

export default App;
```

æˆ‘ä»¬å°†ç»„ä»¶å¯¼å‡ºä¸º`App`ï¼Œå¹¶å°†å…¶åŠ è½½åˆ°`index.js`ä¸­ã€‚å°†ç»„ä»¶åˆ†ç¦»åˆ°ç‹¬ç«‹çš„æ–‡ä»¶å¹¶ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œä½†æ˜¯å¦‚æœä¸è¿™ä¹ˆåšï¼Œä½ çš„ç¨‹åºå°†ä¼šå˜å¾—å¾ˆéš¾ç»´æŠ¤ã€‚

### å‡½æ•°ç»„ä»¶

React 16.8 æ¨å‡º React Hooks åï¼Œç±»ç»„ä»¶å˜å¾—ä¸é‚£ä¹ˆé‡è¦äº†ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä»å‡½æ•°ç»„ä»¶å¼€å§‹ä»‹ç»ã€‚

è®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å°†ä»¥è¡¨æ ¼çš„æ–¹å¼å±•ç°ä¸€ç»„äººå‘˜ä¿¡æ¯ï¼Œä»£ç å¦‚ä¸‹ï¼š

`src/Table.js`:

```jsx
import React from "react";

function Table() {
  return (
    <table>
      <thead>
        <tr>
          <th>å§“å</th>
          <th>å·¥ä½œ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>å¼ ä¸‰</td>
          <td>å·¥ç¨‹å¸ˆ</td>
        </tr>
        <tr>
          <td>æå››</td>
          <td>å–œå‰§æ¼”å‘˜</td>
        </tr>
        <tr>
          <td>ç‹äº”</td>
          <td>è­¦å«</td>
        </tr>
        <tr>
          <td>èµµå…­</td>
          <td>è°ƒé…’å¸ˆ</td>
        </tr>
      </tbody>
    </table>
  );
}

export default Table;
```

æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„å‡½æ•°ç»„ä»¶ã€‚æˆ‘ä»¬éœ€è¦å°†è‡ªå®šä¹‰ç»„ä»¶çš„åç§°é¦–å­—æ¯å¤§å†™ï¼Œä»¥åŒºåˆ†å¸¸è§„çš„ HTML å…ƒç´ ã€‚å›åˆ°`App.js`æ–‡ä»¶ï¼Œå°† Table è½½å…¥å…¶ä¸­ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦å¯¼å…¥ Tableï¼š

```jsx
import Table from "./Table";
```

ç„¶åï¼Œæˆ‘ä»¬å°†`<h1>`æ›¿æ¢æˆ`<Table />`ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```jsx
return (
  <div className="App">
    <Table />
  </div>
);
```

å®Œæ•´çš„`src/App.js`ä»£ç å¦‚ä¸‹ï¼š

```jsx
import React from "react";
import Table from "./Table";

function App() {
  return (
    <div className="App">
      <Table />
    </div>
  );
}

export default App;
```

æ‰“å¼€`http://localhost:3000`é¡µé¢ï¼Œä½ ä¼šçœ‹åˆ°å¦‚ä¸‹çš„æ•ˆæœã€‚

![](assets/images/react-tutorial-static-table.png)

è¿™æ ·æˆ‘ä»¬å°±åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰çš„å‡½æ•°ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é‡å¤ä½¿ç”¨è¿™ä¸ªç»„ä»¶ã€‚å½“ç„¶ï¼Œè¿™ä¸ªç»„ä»¶æœ‰ä¸€ä¸ªé—®é¢˜â€”â€”å®ƒçš„æ•°æ®æ˜¯åœ¨ç»„ä»¶ä¸­ç¡¬ç¼–ç çš„ï¼ˆå†™æ­»çš„ï¼‰ï¼Œè¿™æ ·å®ƒçš„ç”¨é€”å°±ä¸å¤§ã€‚è¿™ä¸ªé—®é¢˜æˆ‘ä»¬åœ¨å±æ€§ç« èŠ‚è§£å†³å®ƒã€‚

æˆ‘ä»¬çœ‹åˆ°è¡¨æ ¼ç”±è¡¨å¤´(table header)å’Œè¡¨å†…å®¹(table body)ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬æ‹†åˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„ç»„ä»¶â€”â€”TableHeader å’Œ TableBodyã€‚

`src/TableHeader.js`:

```jsx
import React from "react";

function TableHeader() {
  return (
    <thead>
      <tr>
        <th>å§“å</th>
        <th>å·¥ä½œ</th>
      </tr>
    </thead>
  );
}

export default TableHeader;
```

`src/TableBody.js`:

```jsx
import React from "react";

function TableBody() {
  return (
    <tbody>
      <tr>
        <td>å¼ ä¸‰</td>
        <td>å·¥ç¨‹å¸ˆ</td>
      </tr>
      <tr>
        <td>æå››</td>
        <td>å–œå‰§æ¼”å‘˜</td>
      </tr>
      <tr>
        <td>ç‹äº”</td>
        <td>è­¦å«</td>
      </tr>
      <tr>
        <td>èµµå…­</td>
        <td>è°ƒé…’å¸ˆ</td>
      </tr>
    </tbody>
  );
}

export default TableBody;
```

`src/Table.js`:

```jsx
import React from "react";
import TableHeader from "./TableHeader";
import TableBody from "./TableBody";

function Table() {
  return (
    <table>
      <TableHeader />
      <TableBody />
    </table>
  );
}

export default Table;
```

æˆ‘ä»¬çœ‹åˆ°ï¼Œç»„ä»¶å¯ä»¥åµŒå¥—å…¶ä»–ç»„ä»¶ã€‚æ¥ä¸‹æ¥è®²è§£ä¸€ä¸‹ç±»ç»„ä»¶ã€‚åœ¨æ²¡æœ‰å‡ºç° React Hooks ä¹‹å‰ï¼Œç±»ç»„ä»¶æ˜¯éå¸¸å¸¸ç”¨çš„ç»„ä»¶å½¢å¼ï¼Œæ‰€ä»¥å’±ä»¬é€šè¿‡ç™¾åº¦ç­‰æŸ¥æ‰¾åˆ°çš„ React ç»„ä»¶èµ„æ–™ï¼Œä¼šå……æ–¥éå¸¸å¤šçš„ç±»ç»„ä»¶å½¢å¼ã€‚

### ç±»ç»„ä»¶

è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å°†`Table`ç»„ä»¶ç”¨ç±»ç»„ä»¶çš„æ–¹å¼å®ç°ä¸€ä¸‹ï¼š

```jsx
import React from "react";
import TableHeader from "./TableHeader";
import TableBody from "./TableBody";

class Table extends React.Component {
  render() {
    return (
      <table>
        <TableHeader />
        <TableBody />
      </table>
    );
  }
}

export default Table;
```

ç±»ç»„ä»¶å¯ä»¥å’Œå‡½æ•°ç»„ä»¶ç›¸äº’æ··åˆç€ä½¿ç”¨ã€‚

## å±æ€§

ç›®å‰ï¼Œ`Table`ç»„ä»¶åªèƒ½æ¸²æŸ“å‡ºå›ºå®šçš„å‡ ä¸ªäººçš„ä¿¡æ¯ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œå¹¶ä¸”è¿™æ ·çš„`Table`ç»„ä»¶ä¹Ÿä¸å¤Ÿå¤ç”¨ã€‚åœ¨ React ä¸­ï¼Œä½¿ç”¨`å±æ€§(props)`å’Œ`çŠ¶æ€(state)`æ¥å¤„ç†æ•°æ®ã€‚å…ˆæ¥è®²è®²å±æ€§çš„æ–¹å¼å¦‚ä½•å¤„ç†æ•°æ®ã€‚

é¦–å…ˆï¼Œç§»é™¤`TableBody`ç»„ä»¶ä¸­çš„æ•°æ®ã€‚

`src/TableBody.js`:

```jsx
function TableBody() {
  return <tbody />;
}
```

ç„¶åï¼Œæˆ‘ä»¬å°†æ•°æ®æ”¾åœ¨ä¸€ä¸ª JavaScript å¯¹è±¡æ•°ç»„ä¸­ã€‚æˆ‘ä»¬å¯ä»¥åœ¨`App`ç»„ä»¶ä¸­åˆ›å»ºè¿™ä¸ªæ•°ç»„ã€‚

```jsx
function App() {
  const users = [
    {
      name: "å¼ ä¸‰",
      job: "å·¥ç¨‹å¸ˆ"
    },
    {
      name: "æå››",
      job: "å–œå‰§æ¼”å‘˜"
    },
    {
      name: "ç‹äº”",
      job: "è­¦å«"
    },
    {
      name: "èµµå…­",
      job: "è°ƒé…’å¸ˆ"
    }
  ];

  return (
    <div className="App">
      <Table />
    </div>
  );
}
```

ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨å±æ€§å°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶ï¼ˆ`Table`ï¼‰ï¼Œç±»ä¼¼äºä½ é€šè¿‡`data-`å±æ€§ç»™ HTML å…ƒç´ ä¼ é€’æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥éšä¾¿ç»™ç»„ä»¶å–åï¼Œåªè¦å®ƒä¸æ˜¯å…³é”®å­—å³å¯ï¼Œæˆ‘ä»¬ç»™å®ƒå–åä¸º`items`ã€‚æˆ‘ä»¬è¦ä¼ é€’çš„æ•°æ®æ˜¯`users`å˜é‡ã€‚å› ä¸ºå®ƒæ˜¯ä¸€ä¸ª JavaScript è¡¨è¾¾å¼ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å¤§æ‹¬å·ã€‚

```jsx
return (
  <div className="App">
    <Table items={users} />
  </div>
);
```

ç°åœ¨æˆ‘ä»¬å·²ç»å°†æ•°æ®ä¼ é€’ç»™`Table`ï¼Œæˆ‘ä»¬å¿…é¡»åŠªåŠ›åœ¨å¦ä¸€ç«¯ï¼ˆ`Table`ç»„ä»¶å†…éƒ¨ï¼‰è®¿é—®å®ƒã€‚

```jsx
function Table(props) {
  const { items } = props;

  return (
    <table>
      <TableHeader />
      <TableBody items={items} />
    </table>
  );
}
```

å¯ä»¥æ‰“å¼€ React DevTools æŸ¥çœ‹ä¸€ä¸‹`Table`ç»„ä»¶ï¼Œä½ ä¼šçœ‹åˆ°`items`å±æ€§å¯¹åº”ç€ä¸€ä¸ªæ•°ç»„ã€‚è¿™é‡Œå­˜å‚¨çš„æ•°æ®ç§°ä¸º**è™šæ‹Ÿ DOMï¼ˆvirtual DOMï¼‰**ï¼Œè¿™æ˜¯ä¸€ç§å¿«é€Ÿæœ‰æ•ˆçš„ä¿æŒæ•°æ®å’Œå®é™… dom åŒæ­¥çš„æŠ€æœ¯ã€‚

![](assets/images/react-tutorial-dynamic-table-1.png)

ç„¶è€Œï¼Œæ•°æ®è¿˜æ²¡æœ‰å‡ºç°åœ¨çœŸå® DOM ä¸­ã€‚åœ¨`Table`ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`props`è®¿é—®æ‰€æœ‰çš„å±æ€§ã€‚åˆšåˆšæˆ‘ä»¬æ˜¯é€šè¿‡`items`å±æ€§ä¼ é€’çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨è¡¨è¾¾å¼`props.items`è®¿é—®åˆ°ä¼ é€’è¿‡æ¥çš„æ•°æ®ã€‚

å¯ä»¥ç”¨ ES6 çš„å±æ€§ç®€å†™ï¼ˆES6 å¯¹è±¡å±•å¼€ï¼‰æ¥åˆ›å»ºä¸€ä¸ªåŒ…å«`props.items`çš„å˜é‡ã€‚

```jsx
const { items } = props;
```

`Table`ç»„ä»¶æ˜¯ç”±ä¸¤ä¸ªæ›´å°çš„ç»„ä»¶ç»„æˆã€‚æˆ‘ä»¬å†ä¸€æ¬¡ä½¿ç”¨å±æ€§å°†æ•°æ®ä¼ é€’ç»™`TableBody`ã€‚

`src/Table.js`:

```jsx
function Table(props) {
  const { items } = props;

  return (
    <table>
      <TableHeader />
      <TableBody items={items} />
    </table>
  );
}
```

å½“å‰ï¼Œ`TableBody`æ²¡æœ‰ä»»ä½•å½¢å‚ï¼Œå¹¶åªè¿”å›äº†`tbody`ç©ºæ ‡ç­¾ã€‚

```jsx
const TableBody = () => {
  return <tbody />;
};
```

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`æ•°ç»„çš„map`å‡½æ•°ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡åˆ›å»ºä¸€ä¸ªè¡¨æ ¼è¡Œã€‚

```jsx
function TableBody(props) {
  const rows = props.items.map((row, index) => (
    <tr key={index}>
      <td>{row.name}</td>
      <td>{row.job}</td>
    </tr>
  ));

  return <tbody>{rows}</tbody>;
}
```

æ‰“å¼€é¡µé¢çœ‹çœ‹å§ï¼Œç°åœ¨æ•°æ®å·²ç»å±•ç°å‡ºæ¥äº†ã€‚

æˆ‘åœ¨æ¯ä¸€ä¸ª`tr`ä¸Šæ·»åŠ äº†`key`ã€‚åœ¨ React ä¸­ï¼Œåœ¨åˆ›å»ºåˆ—è¡¨æ—¶åº”ä¸€ç›´ä½¿ç”¨[keys](https://zh-hans.reactjs.org/docs/lists-and-keys.html#keys)ï¼Œè¿™æ ·åšæœ‰åŠ©äºè¯†åˆ«æ¯ä¸€ä¸ªåˆ—è¡¨é¡¹ã€‚å¾…ä¼šå„¿ï¼Œå½“æˆ‘ä»¬éœ€è¦ç»´æŠ¤åˆ—è¡¨é¡¹æ—¶ï¼Œä½ å°±ä¼šçœ‹åˆ°å®ƒçš„å¿…è¦æ€§ã€‚

å±æ€§æ˜¯å°†ç°æœ‰æ•°æ®ä¼ é€’ç»™ React ç»„ä»¶çš„æœ‰æ•ˆæ–¹å¼ï¼Œç„¶è€Œç»„ä»¶ä¸èƒ½æ›´æ”¹å±æ€§â€”â€”**å±æ€§æ˜¯åªè¯»çš„**ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¼šå­¦ä¹ åˆ°å¦‚ä½•ä½¿ç”¨`çŠ¶æ€`ç»´æŠ¤æ•°æ®ã€‚

## çŠ¶æ€

æˆ‘ä»¬åœ¨ä¸€ä¸ªæ•°ç»„å˜é‡ä¸­å­˜å‚¨äº†äººå‘˜æ•°æ®ï¼Œå¹¶é€šè¿‡å±æ€§ä¼ é€’ç»™äº†`Table`ç»„ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªå¥½çš„å¼€å§‹ï¼Œä½†æ˜¯æˆ‘ä»¬æ€ä¹ˆåˆ é™¤ä¸€ä¸ªäººå‘˜å‘¢ï¼Ÿä½¿ç”¨å±æ€§ï¼Œæˆ‘ä»¬æœ‰äº†å•å‘æ•°æ®æµï¼Œä½¿ç”¨çŠ¶æ€ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´æ–°ç»„ä»¶çš„ç§æœ‰æ•°æ®ã€‚

ä½ å¯ä»¥å°†çŠ¶æ€çœ‹æˆæ˜¯ä»»ä½•éœ€è¦ä¿å­˜æˆ–è€…ä¿®æ”¹ä½†æ˜¯ä¸éœ€è¦æ·»åŠ åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼Œä»è´­ç‰©è½¦ä¸­æ·»åŠ æˆ–è€…åˆ é™¤å•†å“ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªçŠ¶æ€ã€‚

`src/App.js`:

```jsx
import React, { useState } from "react";

function App() {
  const [users, setUsers] = useState();
}
```

æ¥ç€å°†æ•´ä¸ªå¯¹è±¡æ•°ç»„è¿ç§»åˆ°`users`çŠ¶æ€ä¸­ã€‚

`src/App.js`:

```jsx
import React, { useState } from "react";

function App() {
  const [users, setUsers] = useState([
    {
      name: "å¼ ä¸‰",
      job: "å·¥ç¨‹å¸ˆ"
    },
    {
      name: "æå››",
      job: "å–œå‰§æ¼”å‘˜"
    },
    {
      name: "ç‹äº”",
      job: "è­¦å«"
    },
    {
      name: "èµµå…­",
      job: "è°ƒé…’å¸ˆ"
    }
  ]);
}
```

ç°åœ¨ï¼Œæ•°æ®å·²ç»å­˜å‚¨åœ¨çŠ¶æ€ä¸­ã€‚éœ€è¦å°†`users`çŠ¶æ€å­˜å‚¨çš„æ•°æ®ä¼ é€’ç»™`Table`ç»„ä»¶ã€‚

`src/App.js`:

```jsx
import React, { useState } from "react";

function App() {
  const [users, setUsers] = useState([
    {
      name: "å¼ ä¸‰"
      // å‰©ä¸‹çš„æ•°æ®
    }
  ]);

  return (
    <div className="App">
      <Table items={users} />
    </div>
  );
}
```

æ—¢ç„¶æˆ‘ä»¬æƒ³è¦ä»è¡¨æ ¼ä¸­åˆ é™¤ä¸€ä¸ªäººå‘˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨`App`ç»„ä»¶ä¸­åˆ›å»º`removeUser`æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡`setUsers`æ–¹æ³•æ›´æ–°çŠ¶æ€ã€‚

`src/App.js`:

```jsx
const removeUser = index => {
  setUsers(users.filter((user, i) => index !== i));
};
```

`filter`æ–¹æ³•å¹¶æ²¡æœ‰æ›´æ–°å½“å‰çš„æ•°ç»„è€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå®ƒä¼šè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„æ•°æ®é¡¹ï¼Œç¬¦åˆæ¡ä»¶çš„æ•°æ®é¡¹å°±ä¼šç»„æˆæ–°çš„æ•°ç»„ã€‚filter æ˜¯ JavaScript ä¸­åˆ é™¤æ•°ç»„å…ƒç´ çš„é¦–é€‰æ–¹æ³•ã€‚

ç°åœ¨æˆ‘ä»¬éœ€è¦å°†`removeUser`ä¼ é€’ç»™ç»„ä»¶ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€ä¸ªåˆ—è¡¨è¡Œä¸Šæ¸²æŸ“ä¸€ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚æˆ‘ä»¬é€šè¿‡å±æ€§çš„æ–¹å¼å°†`removeUser`æ–¹æ³•ä¼ é€’ç»™`Table`ç»„ä»¶ã€‚

`src/App.js`:

```jsx
return (
  <div className="App">
    <Table items={users} removeItem={removeUsers} />
  </div>
);
```

æ¥ç€æˆ‘ä»¬åœ¨`Table`ç»„ä»¶ä¸­å°†è¿™ä¸ªå‡½æ•°ä¼ é€’ç»™`TableBody`ã€‚

`src/Table.js`:

```jsx
function Table(props) {
  const { items, removeItem } = props;

  return (
    <table>
      <TableHeader />
      <TableBody items={items} removeItem={removeItem} />
    </table>
  );
}
```

`TableBody`ä¸­ï¼Œåœ¨è°ƒç”¨`removeItem()`æ—¶ï¼Œå°†æ•°æ®å¯¹åº”çš„ç´¢å¼•å·ï¼ˆindexï¼‰ä½œä¸ºå‚æ•°ä¼ é€’ç»™äº†`removeItem()`æ–¹æ³•ï¼Œè¿™æ ·è¿‡æ»¤æ–¹æ³•å°±çŸ¥é“è¯¥åˆ é™¤å“ªä¸ªæ•°æ®é¡¹äº†ã€‚åˆ›å»ºä¸€ä¸ªæŒ‰é’®ï¼Œå¹¶åœ¨`onClick`ä¸­è°ƒç”¨`removeItem()`ã€‚åˆ æ‰ä¿å­˜ä¹‹åï¼Œä½ ä¼šçœ‹åˆ°

```jsx
function TableBody(props) {
  const { items, removeItem } = props;

  const rows = items.map((item, index) => (
    <tr key={index}>
      <td>{item.name}</td>
      <td>{item.job}</td>
      <td>
        <button onClick={() => removeItem(index)}>åˆ é™¤</button>
      </td>
    </tr>
  ));

  return <tbody>{rows}</tbody>;
}
```

ç°åœ¨ï¼Œåœ¨é¡µé¢ä¸Šå‡ºç°äº†åˆ é™¤æŒ‰é’®ï¼Œå¹¶ä¸”ç‚¹å‡»åˆ é™¤æŒ‰é’®åï¼Œæˆ‘ä»¬ä»çŠ¶æ€ä¸­åˆ é™¤äº†è¿™æ¡æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç‚¹å‡»â€œç‹äº”â€è¿™ä¸€æ¡æ•°æ®çš„åˆ é™¤æŒ‰é’®åï¼Œé¡µé¢æ•ˆæœå¦‚ä¸‹ã€‚

![](assets/images/react-tutorial-dynamic-table-2.png)

ç°åœ¨ï¼Œä½ çœ‹åˆ°äº†å¦‚ä½•åˆå§‹åŒ–å’Œä¿®æ”¹çŠ¶æ€æ•°æ®ã€‚ä¸‹é¢ï¼Œå°†è¯¦ç»†è®²è§£ä¸€ä¸‹ç”¨æ¥åˆ›å»ºçŠ¶æ€çš„é’©å­ï¼š[useState](https://zh-hans.reactjs.org/docs/hooks-state.html)ã€‚

### useState()

æˆ‘ä»¬å¯ä»¥ç”¨`useState()`æ¥åˆ›å»ºå’Œç»´æŠ¤ä¸€ä¸ªçŠ¶æ€ã€‚å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª`users`çŠ¶æ€ã€‚

```jsx
const [users, setUsers] = useState([...]);
```

`useState()`çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹æ˜¯çŠ¶æ€æ•°æ®ï¼Œç¬¬äºŒé¡¹æ˜¯æ›´æ–°çŠ¶æ€çš„æ–¹æ³•ã€‚`useState()`æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°†ä¼šæˆä¸ºè¿™ä¸ªçŠ¶æ€çš„åˆå§‹æ•°æ®ã€‚

è®¿é—®çŠ¶æ€æ•°æ®ï¼š

```jsx
<Table items={users} />
```

æ›´æ–°çŠ¶æ€æ•°æ®ï¼š

```jsx
const newUsers = users.filter((user, i) => i !== index);
setUsers(newUsers);
```

æˆ‘ä»¬å¯ä»¥å¤šæ¬¡è°ƒç”¨`useState()`ï¼Œä¸ºç»„ä»¶åˆ›å»ºå¤šä¸ªçŠ¶æ€ã€‚

```jsx
const [users, setUsers] = useState([...]); // äººå‘˜åˆ—è¡¨çŠ¶æ€
const [isLoading, setIsLoading] = useState(false); // åŠ è½½æ•°æ®çš„çŠ¶æ€
```

å¤§å®¶åœ¨ç™¾åº¦ä¸Šæœç´¢çš„ä»‹ç» React çŠ¶æ€çš„æ–‡ç« ï¼Œå¤§éƒ¨åˆ†åº”è¯¥æ˜¯åŸºäºç±»ç»„ä»¶çš„è¯­æ³•ï¼Œè€Œä¸æ˜¯`useState()`çš„æ–¹å¼ã€‚åœ¨è¿™é‡Œï¼Œå»ºè®®å¤§å®¶ç›´æ¥æœç´¢`useState`ï¼Œæˆ–è€…å¤šçœ‹çœ‹[React å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜](https://zh-hans.reactjs.org/docs/hooks-state.html)ã€‚

## æäº¤è¡¨å•æ•°æ®

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å°†æ•°æ®å­˜å‚¨åœ¨çŠ¶æ€ä¸­ï¼Œå¹¶å¯ä»¥ä»çŠ¶æ€ä¸­åˆ é™¤æ•°æ®é¡¹ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬é¢ä¸´ä¸€ä¸ªæ–°éœ€æ±‚ï¼šå¦‚ä½•æ·»åŠ æ•°æ®é¡¹ï¼Ÿåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä»ä¸€ä¸ªç©ºåˆ—è¡¨å¼€å§‹æ·»åŠ æ•°æ®é¡¹ï¼Œæ¯”å¦‚å¾…åŠåˆ—è¡¨ã€è´­ç‰©è½¦ã€‚

é¦–å…ˆï¼Œæ¸…ç©ºåˆå§‹åŒ–çš„æ•°æ®é¡¹â€”â€”å°†`App.js`ä¸­çš„`users`çŠ¶æ€çš„åˆå§‹åŒ–æ•°æ®è®¾ç½®ä¸ºç©ºæ•°ç»„ï¼ˆ`[]`ï¼‰ã€‚

`app.js`:

```jsx
function App() {
  const [users, setUsers] = useState([]);
}
```

æ¥ç€ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶`Form`ã€‚è¡¨å•ä¸­åŒ…å«äº†ç”¨æˆ·åå’Œå·¥ä½œä¸¤ä¸ªå˜åŒ–çš„æ•°æ®ï¼Œæ‰€ä»¥éœ€è¦ç”¨çŠ¶æ€æ¥å­˜å‚¨ã€‚åˆå§‹æƒ…å†µä¸‹ï¼Œç”¨æˆ·åå’Œå·¥ä½œéƒ½æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚

```jsx
import React, { useState } from "react";

function Form() {
  const initialFormData = {
    name: "",
    job: ""
  };

  const [formData, setFormData] = useState(initialFormData);
}

export default Form;
```

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¡¨å•ä¸­çš„æ¯ä¸€ä¸ªè¡¨å•é¡¹å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–°`formData`çŠ¶æ€ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬æäº¤è¡¨å•æ—¶ï¼Œå°†æ•°æ®ä¼ é€’ç»™`App`ç»„ä»¶ä¸­çš„`users`çŠ¶æ€ã€‚å½“`App`ç»„ä»¶çš„`users`çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘ä»¬çš„`Table`ç»„ä»¶å°±ä¼šåŒæ­¥æ›´æ–°ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ç›‘å¬è¡¨å•é¡¹å‘ç”Ÿå˜åŒ–çš„äº‹ä»¶ã€‚è¿™ä¸ªå‡½æ•°ä¼šæ¥æ”¶åˆ°`event`å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ä»£è¡¨è¡¨å•é¡¹å€¼å˜åŒ–äº‹ä»¶ã€‚`event`ä¸­æœ‰`name`å’Œ`value`ä¸¤ä¸ªå±æ€§ï¼Œä»£è¡¨è¡¨å•é¡¹çš„åç§°å’Œå€¼ã€‚

```jsx
const handleChange = event => {
  const { name, value } = event.target;

  seteFormData({
    ...formData,
    [name]: value
  });
};
```

ç„¶ååœ¨`Form`ç»„ä»¶ä¸­æ·»åŠ ä¸¤ä¸ªè¾“å…¥æ¡†ã€‚æˆ‘ä»¬ä»`formData`çŠ¶æ€ä¸­å–å‡º`name`å’Œ`job`ï¼Œåˆ†åˆ«ä¼ é€’ç»™ç”¨æˆ·åã€å·¥ä½œè¾“å…¥æ¡†ï¼ˆé€šè¿‡`value`å±æ€§ï¼‰ã€‚ç„¶åå°†`haneleChange`ä¼ é€’ç»™è¾“å…¥æ¡†çš„`onChange`å±æ€§ï¼Œè¿™æ ·å®Œæˆäº†è¡¨å•é¡¹å€¼å˜åŒ–ç›‘å¬ã€‚

```jsx
import React, { useState } from "react";

function Form() {
  const initialFormData = {
    name: "",
    job: ""
  };

  const [formData, setFormData] = useState(initialFormData);

  const handleChange = event => {
    const { name, value } = event.target;

    seteFormData({
      ...formData,
      [name]: value
    });
  };

  const { name, job } = formData;

  return (
    <form>
      <label>ç”¨æˆ·å</label>
      <input type="text" name="name" value={name} onChange={handleChange} />
      <label>å·¥ä½œ</label>
      <input type="text" name="job" value={job} onChange={handleChange} />
    </form>
  );
}

export default Form;
```

åœ¨`App.js`ä¸­ï¼Œæˆ‘ä»¬åœ¨è¡¨æ ¼ä¹‹ä¸‹æ¸²æŸ“è¿™ä¸ªè¡¨å•ã€‚

`App.js`:

```jsx
return (
  <div className="container">
    <Table items={users} removeItem={removeUser} />
    <Form />
  </div>
);
```

æ‰“å¼€`http://localhost:3000`é¡µé¢ï¼Œå°±ä¼šçœ‹åˆ°é¡µé¢ä¸Šå¤šå‡ºäº†ä¸€ä¸ªè¡¨å•ã€‚åœ¨è¡¨å•ä¸­è¾“å…¥ä¸€äº›å€¼ï¼Œå°±ä¼šåœ¨ React DevTools ä¸­çœ‹åˆ°è¡¨å•çŠ¶æ€å’Œè¡¨å•é¡¹çš„å±æ€§å˜åŒ–ã€‚

![](assets/images/react-tutorial-submit-form-1.png)

æœ€åä¸€æ­¥æˆ‘ä»¬æ¥å¤„ç†ä¸€ä¸‹è¡¨å•æ•°æ®æäº¤ã€‚æˆ‘ä»¬åœ¨`App.js`ä¸­åˆ›å»ºä¸€ä¸ª`addUser()`æ–¹æ³•ï¼Œä¼šå°†æ–°çš„`user`å‚æ•°æ·»åŠ åˆ°`users`çŠ¶æ€ä¸­ã€‚è¿™é‡Œä½¿ç”¨[ES6 å±•å¼€æ“ä½œç¬¦](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax)ã€‚

`App.js`:

```jsx
const addUser = user => {
  setUsers([...users, user]);
};
```

æ¥ç€å°†`addUser`ä¼ é€’ç»™`Form`ç»„ä»¶ã€‚

```jsx
<Form handleSubmit={addUser} />
```

åœ¨`Form`ç»„ä»¶å†…éƒ¨ï¼Œåˆ›å»ºä¸€ä¸ª`submitForm()`æ–¹æ³•ï¼Œå®ƒä¼šè°ƒç”¨é€šè¿‡å±æ€§ä¼ é€’è¿‡æ¥çš„`handleSbumit()`æ–¹æ³•ï¼Œå¹¶ä¸”ä¼šå°†è¡¨å•çŠ¶æ€ä¼ é€’ç»™ä¹‹å‰å®šä¹‰çš„`user`å‚æ•°ã€‚`submitForm()`ä¹Ÿä¼šé‡ç½®è¡¨å•çŠ¶æ€ä¸ºåˆå§‹çŠ¶æ€ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æäº¤è¡¨å•åæ¸…ç©ºè¡¨å•ã€‚

`Form.js`:

```jsx
const { handleSubmit } = props;
const submitForm = () => {
  handleSubmit(formData);
  setFormData(initialFormData);
};
```

æœ€åï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæäº¤æŒ‰é’®ï¼Œå°†`handleSubmit`ä¼ é€’ç»™è¿™ä¸ªæŒ‰é’®çš„`onClick`å±æ€§ï¼Œè¿™æ ·ï¼Œå½“æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œå°±ä¼šè°ƒç”¨`handleSubmit()`æ–¹æ³•ï¼Œå®Œæˆè¡¨å•æäº¤ã€‚

```jsx
<input type="button" value="æäº¤" onClick={handleSubmit} />
```

è¿™å°±æ˜¯å…¨éƒ¨äº†ï¼Œåº”ç”¨å®Œæˆäº†ã€‚æˆ‘ä»¬ä»é¡µé¢ä¸Šæ·»åŠ å’Œåˆ é™¤äººå‘˜åï¼Œ`Table`å’Œ`TableBody`å‡èƒ½æ­£ç¡®çš„å±•ç°äººå‘˜æ•°æ®ï¼Œè¿™æ˜¯å› ä¸º`Table`å’Œ`TableBody`ç»„ä»¶ä¸çŠ¶æ€æ˜¯åŒæ­¥çš„ã€‚

![](assets/images/react-tutorial-finish.png)

æ‰“å¼€<https://github.com/sinoui/react-tutorial>å¯æŸ¥çœ‹å®Œæ•´çš„ä»£ç ã€‚

## ä¸åç«¯ API äº¤äº’

ä» API ä¸­è·å–æ•°æ®æ˜¯å‰ç«¯åº”ç”¨ä¸­å¸¸è§åœºæ™¯ã€‚å¦‚æœä½ ä¸ç†Ÿæ‚‰å¦‚ä½•ä¸ API äº¤äº’ï¼Œå»ºè®®ä½ å…ˆå­¦ä¹ ä¸€ä¸‹[Fetch API](https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch)æˆ–è€…[Axios](https://github.com/axios/axios)ã€‚

è¿™ä¸ªç« èŠ‚å°†ä¼šç”¨[Fetch API](https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch)è·å–[åŒ—äº¬çš„å¤©æ°”æ•°æ®](http://www.weather.com.cn/data/sk/101010100.html)ï¼Œå¹¶åœ¨é¡µé¢ä¸Šå±•ç°åŒ—äº¬å¸‚å½“å‰çš„å¤©æ°”æƒ…å†µã€‚

è¿™ä¸ªç« èŠ‚ä¸å†ä»é›¶å¼€å§‹è®²è§£å¦‚ä½•åˆ›å»ºä¸€ä¸ª React åº”ç”¨å’Œåˆ›å»ºç»„ä»¶ã€‚è¿™é‡Œé‡ç‚¹è®²è§£ä¸€ä¸ªæ–°çš„ React é’©å­[useEffect](https://zh-hans.reactjs.org/docs/hooks-effect.html)ã€‚å®ƒæœ‰å¾ˆå¤šç”¨é€”ï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯å¯ä»¥åœ¨ç»„ä»¶åˆ›å»ºå®Œæˆåæ‰§è¡Œä¸€äº› JavaScript ä»£ç ï¼ˆåœ¨è¿™é‡Œæ‰§è¡Œçš„ JavaScript ä»£ç ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå‰¯ä½œç”¨ï¼‰ã€‚æˆ‘ä»¬çš„åº”ç”¨æœŸæœ›åœ¨ç»„ä»¶åˆ›å»ºåï¼Œç«‹é©¬è®¿é—®æ°”è±¡ API è·å–åŒ—äº¬å¸‚æ°”è±¡æ•°æ®ã€‚ä»£ç å¦‚ä¸‹ã€‚

`src/App.js`:

```jsx
import React, { useState, useEffect } from "react";

function App() {
  const [weather, setWeather] = useState();

  useEffect(() => {
    const url =
      "https://fcc-weather-api.glitch.me/api/current?lat=39.92&lon=116.46";

    fetch(url)
      .then(result => result.json())
      .then(result => setWeather(result));
  }, []);

  if (weather) {
    return (
      <div className="container">
        <div>åŒ—äº¬å¸‚å¤©æ°”æƒ…å†µï¼š</div>
        <div>æ¸©åº¦ï¼š{weather.main.temp}</div>
        <div>é£çº§ï¼š{weather.wind.speed}</div>
        <div>æ¹¿åº¦ï¼š{weather.main.humidity}%</div>
        <div>å¤§æ°”å‹ï¼š{weather.main.pressure}</div>
      </div>
    );
  } else {
    return <div>æ­£åœ¨è·å–åŒ—äº¬å¸‚å¤©æ°”æ•°æ®...</div>;
  }
}

export default App;
```

å¯åŠ¨åº”ç”¨åï¼Œå°±èƒ½çœ‹åˆ°åŒ—äº¬å¸‚çš„å¤©æ°”é¢„æŠ¥äº†ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€ devtoolsï¼ŒæŸ¥çœ‹`Network`é¡µç­¾ï¼Œåˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œæ‰¾åˆ°`https://fcc-weather-api.glitch.me`è¿™ä¸ªè¯·æ±‚ï¼Œç‚¹å‡»`Preview`é¡µç­¾ï¼Œèƒ½å¤Ÿé¢„è§ˆè¿™ä¸ªå¤©æ°” API çš„å“åº”æ•°æ®ã€‚

![](assets/images/react-tutorial-weather.png)

## ç¼–è¯‘å¹¶éƒ¨ç½² React é¡¹ç›®

å¼€å‘ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒæ˜¯æœ‰å¾ˆå¤§åŒºåˆ«çš„ã€‚åœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œæ³¨é‡çš„æ˜¯å¼€å‘è€…ä½“éªŒï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒï¼Œéœ€è¦è€ƒè™‘çš„æ˜¯æ€§èƒ½ã€‚ä¸ºäº†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œ React åº”ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ç¼–è¯‘å¹¶éƒ¨ç½²é¡¹ç›®ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è¡Œç¼–è¯‘ React é¡¹ç›®ã€‚

```shell
npm run build
```

æ‰§è¡Œå®Œåï¼Œä¼šäº§ç”Ÿä¸€ä¸ª`build`æ–‡ä»¶å¤¹ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯é¡¹ç›®ç¼–è¯‘åçš„æ–‡ä»¶ã€‚å°† build æ–‡ä»¶å¤¹æ¨é€åˆ° Nginx æˆ–è€…å…¶ä»–æœåŠ¡å™¨ä¸Šå°±å®Œæˆäº†éƒ¨ç½²ã€‚è¿™é‡Œä»‹ç»ä¸¤ç§éƒ¨ç½²åœºæ™¯ã€‚

### serve

ä¸ºäº†åœ¨æœ¬åœ°å¿«é€Ÿé¢„è§ˆç¼–è¯‘åçš„æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨[serve](https://www.npmjs.com/package/serve)è¿™ä¸ªå·¥å…·æ¥å¯åŠ¨ç¼–è¯‘åçš„ React é¡¹ç›®ã€‚

```shell
npx serve -s build
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<http://localhost:5000>é¡µé¢ï¼Œå°±èƒ½çœ‹åˆ°æ•ˆæœã€‚

### github pages

å¦‚æœä½ ç†Ÿæ‚‰[Github](http://github.com/)ï¼Œé‚£ä¹ˆå¯ä»¥æ¥ç€å¾€ä¸‹çœ‹ï¼Œå¦åˆ™å…ˆç™¾åº¦ä¸€ä¸‹å¦‚ä½•åˆ›å»º Github è´¦å·å¹¶ä½¿ç”¨ Githubã€‚

[Github Pages](https://pages.github.com/)å¯ä»¥ç”¨æ¥å¿«é€Ÿæ­å»ºä½ çš„ç«™ç‚¹ã€‚æˆ‘ä»¬å¯ä»¥å°†ç¼–è¯‘åçš„é¡¹ç›®éƒ¨ç½²åˆ° Github Pages ä¸Šã€‚

é¦–å…ˆæ‰“å¼€é¡¹ç›®çš„`package.json`ï¼Œæ·»åŠ ä¸Š`homepage`ï¼Œé…ç½®ä¸Šä½ çš„é¡¹ç›®çš„ urlã€‚

`package.json`:

```json
  "homepage": "https://sinoui.github.io/react-tutorial",
```

åœ¨`scripts`éƒ¨åˆ†æ·»åŠ ä¸¤è¡Œä»£ç ï¼š

```json
"scripts": {
  // ...
  "predeploy": "npm run build",
  "deploy": "gh-pages -d build"
}
```

å®‰è£…`gh-pages`ä¾èµ–ã€‚

```shell
npm install --save-dev gh-pages
```

ç„¶åæˆ‘ä»¬æ‰§è¡Œ`deploy`æŒ‡ä»¤ï¼Œå°†é¡¹ç›®å‘å¸ƒåˆ° github pages ä¸Šã€‚

```shell
npm run deploy
```

å…¥é—¨ç¨‹åºçš„æ„å»ºæ—…ç¨‹åˆ°æ­¤ç»“æŸã€‚çœ‹çœ‹æˆæ•ˆå§ï¼š<https://sinoui.github.io/react-tutorial/>ã€‚

## æ€»ç»“

è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œå®ƒå‘å¤§å®¶ä»‹ç»äº† Reactã€JSXã€ç»„ä»¶ã€å±æ€§ã€çŠ¶æ€ã€è¡¨å•å¤„ç†ã€ä¸ API äº¤äº’ä»¥åŠéƒ¨ç½²åº”ç”¨ã€‚æˆ‘ä»¬è¿˜æœ‰å¾ˆå¤š React ç›¸å…³çŸ¥è¯†éœ€è¦å­¦ä¹ ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸¦ç»™å¤§å®¶å‘æœªçŸ¥å‰è¿›çš„ä¿¡å¿ƒã€‚

[æŸ¥çœ‹æ”¾åœ¨ Github ä¸Šçš„æºç ](https://github.com/sinoui/react-tutorial)

[æŸ¥çœ‹æœ€ç»ˆæ•ˆæœ](https://sinoui.github.io/react-tutorial/)

å¦‚æœè¿™ç¯‡æ–‡ç« æœ‰ä¸æ­£ç¡®æˆ–è€…ä¸æ˜ç¡®çš„åœ°æ–¹ï¼Œè¯·[å‘ŠçŸ¥æˆ‘ä»¬](https://github.com/sinoui/sinoui-guide/issues)ï¼ˆæ·»åŠ  github issueï¼‰ã€‚

## å‚è€ƒæ–‡ç« 

- [React å®˜æ–¹æ•™ç¨‹](https://zh-hans.reactjs.org/docs/hello-world.html)
- [Getting Started with React](https://www.taniarascia.com/getting-started-with-react/)
- [React Hooks](https://zh-hans.reactjs.org/docs/hooks-intro.html)
